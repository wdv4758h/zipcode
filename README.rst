========================================
zipcode - 郵遞區號
========================================


使用 xsv 跟中華郵政提供的 3+2 碼郵遞區號 CSV
============================================

.. code-block:: sh

    $ multirust update          # 更新 rust compiler
    $ multirust default stable  # 選擇 stable branch 當作 default 使用的 rust compiler

    # 把 multirust 裡的安裝路徑加入 PATH
    $ export PATH=$PATH:$HOME/.multirust/toolchains/stable/cargo/bin

    $ cargo install xsv         # 安裝處理 CSV 檔案的工具 "xsv"

    $ xsv search "臺北" zipcode-2014-12.csv  | xsv search "南港" | xsv search "研究"
    郵遞區號,縣市名稱,鄉鎮市區,原始路名,投遞範圍
    11571,臺北市,南港區,研究院路１段,全
    11564,臺北市,南港區,研究院路２段,單  33號以下
    11565,臺北市,南港區,研究院路２段,單  35號至  81號
    11572,臺北市,南港區,研究院路２段,單  83號以上
    11564,臺北市,南港區,研究院路２段,雙  68號以下
    11574,臺北市,南港區,研究院路２段,雙  70巷至 126號
    11529,臺北市,南港區,研究院路２段,雙 128號至 130號
    11574,臺北市,南港區,研究院路２段,雙 132號至 180號
    11581,臺北市,南港區,研究院路２段,　 182巷全
    11572,臺北市,南港區,研究院路２段,雙 184號以上
    11581,臺北市,南港區,研究院路３段,單全
    11574,臺北市,南港區,研究院路３段,雙  48號以下
    11581,臺北市,南港區,研究院路３段,雙  50號以上
    11581,臺北市,南港區,研究院路４段,全

    # 指定要搜尋的 columns
    # -s C1,C2,...
    $ xsv search "臺北" zipcode-2014-12.csv  | xsv search -s 4 "南港"
    郵遞區號,縣市名稱,鄉鎮市區,原始路名,投遞範圍
    11552,臺北市,南港區,南港路１段,單 185號以下
    11568,臺北市,南港區,南港路１段,單 187號以上
    11568,臺北市,南港區,南港路１段,雙 254號以下
    11579,臺北市,南港區,南港路１段,雙 356號至 364號
    11578,臺北市,南港區,南港路２段,單全
    11553,臺北市,南港區,南港路２段,雙  60號以下
    11579,臺北市,南港區,南港路２段,雙  62號至 108號
    11578,臺北市,南港區,南港路２段,雙 110號以上
    11563,臺北市,南港區,南港路３段,單 155號以下
    11577,臺北市,南港區,南港路３段,單 157號以上
    11570,臺北市,南港區,南港路３段,雙  46號以下
    11510,臺北市,南港區,南港路３段,雙  48號至  52號
    11570,臺北市,南港區,南港路３段,雙  54號至  80號
    11554,臺北市,南港區,南港路３段,雙  82號至 268號
    11577,臺北市,南港區,南港路３段,雙 270號以

    # 可以使用 regular expression 來搜尋
    $ xsv search -s 1 "300.." zipcode-2014-12.csv | head
    郵遞區號,縣市名稱,鄉鎮市區,原始路名,投遞範圍
    30069,新竹市,東區,八德路,全
    30078,新竹市,東區,力行一路,全
    30078,新竹市,東區,力行二路,全
    30078,新竹市,東區,力行三路,全
    30078,新竹市,東區,力行四路,全
    30078,新竹市,東區,力行五路,全
    30078,新竹市,東區,力行六路,全
    30078,新竹市,東區,力行七路,全
    30078,新竹市,東區,力行路,全
